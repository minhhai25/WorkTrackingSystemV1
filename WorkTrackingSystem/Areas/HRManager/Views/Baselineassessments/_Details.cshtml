@model WorkTrackingSystem.Models.Baselineassessment

@{
    ViewData["Title"] = "Chi tiết đánh giá cơ bản";
}

<div class="container border rounded p-3 shadow">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="text-primary"><i class="bi bi-list-check"></i> Chi tiết đánh giá cơ bản</h4>
        <button class="btn btn-danger" onclick="closeDetailSection()">
            <i class="bi bi-x-circle"></i>
        </button>
    </div>

    <dl class="row">
        <div class="col-sm-6 mb-3">
            <dt class="fw-normal text-muted"><i class="bi bi-person"></i> Nhân viên:</dt>
            <dd class="text-dark">
                @Html.DisplayFor(model => model.Employee.Code) -
                @Html.DisplayFor(model => model.Employee.FirstName)
                @Html.DisplayFor(model => model.Employee.LastName)
            </dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-clock"></i> Tháng:</dt>
            <dd class="text-primary">
                @(Model.Time.HasValue ? Model.Time.Value.ToString("MM/yyyy") : "Không có dữ liệu")
            </dd>
        </div>

        <!-- Thanh tiến trình cho các tiêu chí đánh giá -->
        <div class="col-12 mb-3">
            <dt><i class="bi bi-bar-chart-line"></i> Đánh giá khối lượng:</dt>
            <dd>
                <div class="progress" style="height: 40px;">
                    <div class="progress-bar bg-primary" role="progressbar"
                         style="width: @((Model.VolumeAssessment ?? 0) / 3 * 100)%;"
                         aria-valuenow="@(Model.VolumeAssessment ?? 0)"
                         aria-valuemin="0"
                         aria-valuemax="3">
                        @(Model.VolumeAssessment?.ToString("F1") ?? "0") / 3
                    </div>
                </div>
            </dd>
        </div>

        <div class="col-12 mb-3">
            <dt><i class="bi bi-graph-up"></i> Đánh giá tiến độ:</dt>
            <dd>
                <div class="progress" style="height: 40px;">
                    <div class="progress-bar bg-success" role="progressbar"
                         style="width: @((Model.ProgressAssessment ?? 0) / 3 * 100)%;"
                         aria-valuenow="@(Model.ProgressAssessment ?? 0)"
                         aria-valuemin="0"
                         aria-valuemax="3">
                        @(Model.ProgressAssessment?.ToString("F1") ?? "0") / 3
                    </div>
                </div>
            </dd>
        </div>

        <div class="col-12 mb-3">
            <dt><i class="bi bi-star"></i> Đánh giá chất lượng:</dt>
            <dd>
                <div class="progress" style="height: 40px;">
                    <div class="progress-bar bg-danger" role="progressbar"
                         style="width: @((Model.QualityAssessment ?? 0) / 3 * 100)%;"
                         aria-valuenow="@(Model.QualityAssessment ?? 0)"
                         aria-valuemin="0"
                         aria-valuemax="3">
                        @(Model.QualityAssessment?.ToString("F1") ?? "0") / 3
                    </div>
                </div>
            </dd>
        </div>

        <div class="col-12 mb-3">
            <dt><i class="bi bi-chat-left-text"></i> Đánh giá tổng hợp:</dt>
            <dd>
                <div class="progress" style="height: 40px;">
                    <div class="progress-bar bg-warning" role="progressbar"
                         style="width: @((Model.SummaryOfReviews ?? 0) / 3 * 100)%;"
                         aria-valuenow="@(Model.SummaryOfReviews ?? 0)"
                         aria-valuemin="0"
                         aria-valuemax="3">
                        @(Model.SummaryOfReviews?.ToString("F1") ?? "0") / 3
                    </div>
                </div>
            </dd>
        </div>

        <div class="col-sm-12 mb-3">
            <dt><i class="bi bi-person-vcard"></i> Thông tin nhân viên:</dt>
            <dd>
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                        Xem chi tiết
                    </button>
                    <ul class="dropdown-menu p-3 shadow">
                        <li><strong>Ngày sinh:</strong> @Html.DisplayFor(model => model.Employee.Birthday)</li>
                        <li><strong>Giới tính:</strong> @Html.DisplayFor(model => model.Employee.Gender)</li>
                        <li><strong>Email:</strong> @Html.DisplayFor(model => model.Employee.Email)</li>
                        <li><strong>Điện thoại:</strong> @Html.DisplayFor(model => model.Employee.Phone)</li>
                    </ul>
                </div>
            </dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-clipboard-check"></i> Đánh giá:</dt>
            <dd>@(Model.Evaluate == true ? "Đạt" : "Chưa đạt")</dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-trash"></i> Trạng thái xóa:</dt>
            <dd>
                @(Model.IsDelete.HasValue ? (Model.IsDelete.Value ? "Đã xóa" : "Chưa xóa") : "Không xác định")
            </dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-check-circle"></i> Hoạt động:</dt>
            <dd>
                @(Model.IsActive.HasValue ? (Model.IsActive.Value ? "Hoạt động" : "Chưa hoạt động") : "Không xác định")
            </dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-calendar-plus"></i> Ngày tạo:</dt>
            <dd>@Model.CreateDate?.ToString("dd/MM/yyyy HH:mm")</dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-calendar-check"></i> Ngày cập nhật:</dt>
            <dd>@Model.UpdateDate?.ToString("dd/MM/yyyy HH:mm")</dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-person-plus"></i> Người tạo:</dt>
            <dd>@Html.DisplayFor(model => model.CreateBy)</dd>
        </div>

        <div class="col-sm-6 mb-3">
            <dt><i class="bi bi-person-check"></i> Người cập nhật:</dt>
            <dd>@Html.DisplayFor(model => model.UpdateBy)</dd>
        </div>
    </dl>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">